<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡∏ó‡πâ‡∏≤‡∏¢</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            min-height: 100vh;
            background: linear-gradient(135deg, #e0c3fc 0%, #8ec5fc 100%);
            padding: 20px;
            font-family: sans-serif;
        }
        .container {
            max-width: 500px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        h1, h2 { text-align: center; color: #4a1d96; margin-bottom: 15px; }
        input {
            width: 100%;
            padding: 12px;
            font-size: 20px;
            text-align: center;
            border: 2px solid #a5b4fc;
            border-radius: 8px;
            margin: 10px 0;
        }
        .btn-group { display: flex; gap: 10px; margin: 15px 0; }
        button {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 8px;
            color: white;
            font-size: 16px;
            cursor: pointer;
        }
        .predict { background: #6366f1; }
        .reset { background: #ef4444; }
        .result {
            background: #f3f4f6;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            display: none;
        }
        .calculation {
            background: #f0f7ff;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            display: none;
        }

        .calculation h3 {
            color: #4a1d96;
            margin-bottom: 10px;
        }

        .calculation .step {
            margin: 8px 0;
            padding: 8px;
            background: white;
            border-radius: 6px;
            border-left: 3px solid #6366f1;
        }
        .read-icon {
            cursor: pointer;
            color: #6366f1;
            padding: 5px;
        }
        .popup {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            align-items: center;
            justify-content: center;
        }
        .popup-content {
            background: white;
            padding: 20px;
            border-radius: 10px;
            max-width: 90%;
            width: 300px;
            text-align: center;
        }
        .popup button { margin-top: 15px; background: #6366f1; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîÆ ‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏î‡∏ß‡∏á‡∏ä‡∏∞‡∏ï‡∏≤</h1>
        <h2>‡∏à‡∏≤‡∏Å‡πÄ‡∏•‡∏Ç‡∏ó‡πâ‡∏≤‡∏¢‡∏ö‡∏±‡∏ï‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô</h2>
        
        <!-- ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô -->
        <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin-bottom: 15px;">
            <h3 style="color: #4a1d96; margin-bottom: 10px;">üìù ‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</h3>
            <ol style="margin-left: 20px; line-height: 1.6;">
                <li>‡∏î‡∏π‡πÄ‡∏•‡∏Ç‡∏ó‡πâ‡∏≤‡∏¢ 3 ‡∏´‡∏•‡∏±‡∏Å‡∏à‡∏≤‡∏Å‡∏ö‡∏±‡∏ï‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</li>
                <li>‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏•‡∏á‡πÉ‡∏ô‡∏ä‡πà‡∏≠‡∏á "‡πÉ‡∏™‡πà‡πÄ‡∏•‡∏Ç 3 ‡∏´‡∏•‡∏±‡∏Å"</li>
                <li>‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° "‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢" ‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏î Enter ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏ú‡∏•‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢</li>
                <li>‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô‡∏•‡∏≥‡πÇ‡∏û‡∏á üîä ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ü‡∏±‡∏á‡∏Ñ‡∏≥‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢</li>
                <li>‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° "‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà" ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡∏∞‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡πÉ‡∏´‡∏°‡πà</li>
            </ol>
            <p style="margin-top: 10px; color: #666;">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏£‡∏ß‡∏°‡πÄ‡∏•‡∏Ç‡∏ó‡∏±‡πâ‡∏á 3 ‡∏´‡∏•‡∏±‡∏Å ‡πÅ‡∏•‡∏∞‡∏•‡∏î‡∏ó‡∏≠‡∏ô‡πÉ‡∏´‡πâ‡πÄ‡∏´‡∏•‡∏∑‡∏≠ 1 ‡∏´‡∏•‡∏±‡∏Å ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏î‡∏ß‡∏á‡∏ä‡∏∞‡∏ï‡∏≤‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</p>
        </div>

        <input type="text" id="numberInput" maxlength="3" placeholder="‡πÉ‡∏™‡πà‡πÄ‡∏•‡∏Ç 3 ‡∏´‡∏•‡∏±‡∏Å">
        <div class="btn-group">
            <button class="predict" onclick="predict()">‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢</button>
            <button class="reset" onclick="resetForm()">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà</button>
        </div>

        <div id="calculation" class="calculation">
            <h3>üìä ‡∏ß‡∏¥‡∏ò‡∏µ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì</h3>
            <div id="calcSteps"></div>
        </div>

        <div id="result" class="result">
            <div style="display: flex; align-items: start;">
                <div id="fortuneText" class="fortune-text"></div>
                <i class="fas fa-volume-up read-icon" onclick="readFortune()"></i>
            </div>
        </div>
    </div>

    <div id="popup" class="popup">
        <div class="popup-content">
            <div id="popupMessage"></div>
            <button onclick="closePopup()">‡∏ï‡∏Å‡∏•‡∏á</button>
        </div>
    </div>

    <script>
        const fortunes = {
            1: "‡∏î‡∏ß‡∏á‡∏î‡∏≤‡∏ß‡πÅ‡∏´‡πà‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à - ‡πÄ‡∏•‡∏Ç‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏ö‡πà‡∏á‡∏ö‡∏≠‡∏Å‡∏ñ‡∏∂‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡∏ô‡∏≥ ‡πÄ‡∏õ‡πá‡∏ô‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏î‡∏µ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏™‡∏¥‡πà‡∏á‡πÉ‡∏´‡∏°‡πà",
            2: "‡∏à‡∏±‡∏ô‡∏ó‡∏£‡∏≤‡πÄ‡∏û‡πá‡∏ç - ‡πÄ‡∏•‡∏Ç‡∏™‡∏≠‡∏á‡∏™‡∏∑‡πà‡∏≠‡∏ñ‡∏∂‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏°‡∏î‡∏∏‡∏• ‡∏Ñ‡∏ß‡∏£‡πÉ‡∏´‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå",
            3: "‡∏î‡∏≤‡∏ß‡∏û‡∏§‡∏´‡∏±‡∏™‡∏ô‡∏≥‡πÇ‡∏ä‡∏Ñ - ‡πÄ‡∏•‡∏Ç‡∏™‡∏≤‡∏°‡∏ô‡∏≥‡∏û‡∏≤‡πÇ‡∏ä‡∏Ñ‡∏•‡∏≤‡∏† ‡πÄ‡∏õ‡πá‡∏ô‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞‡∏ó‡∏µ‡πà‡∏î‡∏µ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏á‡∏ó‡∏∏‡∏ô",
            4: "‡∏î‡∏≤‡∏ß‡πÄ‡∏™‡∏≤‡∏£‡πå‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á - ‡πÄ‡∏•‡∏Ç‡∏™‡∏µ‡πà‡πÅ‡∏™‡∏î‡∏á‡∏ñ‡∏∂‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á ‡∏Ñ‡∏ß‡∏£‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏£‡∏∞‡∏¢‡∏∞‡∏¢‡∏≤‡∏ß",
            5: "‡∏î‡∏≤‡∏ß‡∏û‡∏∏‡∏ò‡∏ú‡∏π‡πâ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á - ‡πÄ‡∏•‡∏Ç‡∏´‡πâ‡∏≤‡∏ö‡πà‡∏á‡∏ö‡∏≠‡∏Å‡∏ñ‡∏∂‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡πÉ‡∏´‡∏°‡πà‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏°‡∏≤",
            6: "‡∏î‡∏≤‡∏ß‡∏®‡∏∏‡∏Å‡∏£‡πå‡πÅ‡∏´‡πà‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å - ‡πÄ‡∏•‡∏Ç‡∏´‡∏Å‡∏™‡∏∑‡πà‡∏≠‡∏ñ‡∏∂‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå ‡πÄ‡∏õ‡πá‡∏ô‡∏ä‡πà‡∏ß‡∏á‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏î‡πâ‡∏≤‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å",
            7: "‡∏î‡∏≤‡∏ß‡πÄ‡∏ô‡∏õ‡∏à‡∏π‡∏ô‡πÅ‡∏´‡πà‡∏á‡∏õ‡∏±‡∏ç‡∏ç‡∏≤ - ‡πÄ‡∏•‡∏Ç‡πÄ‡∏à‡πá‡∏î‡∏ô‡∏≥‡∏û‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ ‡∏Ñ‡∏ß‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏´‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°",
            8: "‡∏î‡∏≤‡∏ß‡∏¢‡∏π‡πÄ‡∏£‡∏ô‡∏±‡∏™‡πÅ‡∏´‡πà‡∏á‡πÇ‡∏ä‡∏Ñ‡∏•‡∏≤‡∏† - ‡πÄ‡∏•‡∏Ç‡πÅ‡∏õ‡∏î‡∏´‡∏°‡∏≤‡∏¢‡∏ñ‡∏∂‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏°‡∏±‡πà‡∏á‡∏Ñ‡∏±‡πà‡∏á ‡∏ä‡πà‡∏ß‡∏á‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏î‡πâ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô",
            9: "‡∏î‡∏≤‡∏ß‡∏≠‡∏±‡∏á‡∏Ñ‡∏≤‡∏£‡∏ú‡∏π‡πâ‡∏Å‡∏•‡πâ‡∏≤ - ‡πÄ‡∏•‡∏Ç‡πÄ‡∏Å‡πâ‡∏≤‡∏™‡∏∑‡πà‡∏≠‡∏ñ‡∏∂‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡∏£‡∏∏‡∏õ‡∏á‡∏≤‡∏ô"
        };

        function calculateSum(nums) {
            let sum = nums.split('').map(Number);
            let steps = [];
            
            // ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏•‡∏Ç‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏´‡∏•‡∏±‡∏Å
            steps.push(`‡πÄ‡∏•‡∏Ç‡∏ó‡∏±‡πâ‡∏á 3 ‡∏´‡∏•‡∏±‡∏Å ‡∏Ñ‡∏∑‡∏≠: ${nums[0]}, ${nums[1]}, ${nums[2]}`);
            
            // ‡∏£‡∏ß‡∏°‡πÄ‡∏•‡∏Ç‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å
            let firstSum = sum.reduce((a, b) => a + b, 0);
            steps.push(`‡∏ô‡∏≥‡∏°‡∏≤‡∏ö‡∏ß‡∏Å‡∏Å‡∏±‡∏ô: ${sum.join(' + ')} = ${firstSum}`);
            
            let currentSum = firstSum;
            // ‡∏ñ‡πâ‡∏≤‡∏ú‡∏•‡∏£‡∏ß‡∏°‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 9 ‡πÉ‡∏´‡πâ‡πÅ‡∏¢‡∏Å‡∏´‡∏•‡∏±‡∏Å‡πÅ‡∏•‡πâ‡∏ß‡∏ö‡∏ß‡∏Å‡∏ï‡πà‡∏≠
            while (currentSum > 9) {
                let digits = String(currentSum).split('').map(Number);
                let nextSum = digits.reduce((a, b) => a + b, 0);
                steps.push(`‡πÅ‡∏¢‡∏Å‡∏´‡∏•‡∏±‡∏Å‡πÅ‡∏•‡πâ‡∏ß‡∏ö‡∏ß‡∏Å: ${digits.join(' + ')} = ${nextSum}`);
                currentSum = nextSum;
            }
            
            steps.push(`‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢: ${currentSum}`);
            
            return { sum: currentSum, steps: steps };
        }

        function predict() {
            const numbers = document.getElementById('numberInput').value;
            if (numbers.length !== 3 || !/^\d{3}$/.test(numbers)) {
                showPopup('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡πÄ‡∏•‡∏Ç 3 ‡∏´‡∏•‡∏±‡∏Å‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô');
                return;
            }

            const result = calculateSum(numbers);
            
            // ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì
            const calcSteps = document.getElementById('calcSteps');
            calcSteps.innerHTML = result.steps.map(step => 
                `<div class="step">${step}</div>`
            ).join('');
            
            document.getElementById('fortuneText').textContent = fortunes[result.sum];
            document.getElementById('calculation').style.display = 'block';
            document.getElementById('result').style.display = 'block';
        }

        function readFortune() {
            const text = document.getElementById('fortuneText').textContent;
            if (!text) {
                showPopup('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏Å‡πà‡∏≠‡∏ô‡∏Å‡∏î‡∏ü‡∏±‡∏á‡∏Ñ‡∏≥‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢');
                return;
            }
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = 'th-TH';
            window.speechSynthesis.speak(utterance);
        }

        function resetForm() {
            document.getElementById('numberInput').value = '';
            document.getElementById('result').style.display = 'none';
document.getElementById('calculation').style.display = 'none';
            document.getElementById('fortuneText').textContent = '';
            window.speechSynthesis.cancel();
        }

        function showPopup(message) {
            document.getElementById('popupMessage').textContent = message;
            document.getElementById('popup').style.display = 'flex';
        }

        function closePopup() {
            document.getElementById('popup').style.display = 'none';
        }

        document.getElementById('numberInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') predict();
        });
    </script>
</body>
</html>
