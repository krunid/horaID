<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡∏ó‡πâ‡∏≤‡∏¢‡∏ö‡∏±‡∏ï‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Sarabun', sans-serif;
        }

        body {
            min-height: 100vh;
            background: linear-gradient(135deg, #e0c3fc 0%, #8ec5fc 100%);
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .container {
            background: linear-gradient(rgba(255, 255, 255, 0.95), rgba(255, 255, 255, 0.95)),
                        url('/api/placeholder/800/500') center/70% no-repeat;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 8px 32px rgba(31, 38, 135, 0.15);
            backdrop-filter: blur(4px);
            max-width: 600px;
            width: 100%;
        }

        .title-main {
            text-align: center;
            color: #4a1d96;
            margin-bottom: 10px;
            font-size: 32px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }
        
        .title-sub {
            text-align: center;
            color: #6b21a8;
            margin-bottom: 30px;
            font-size: 24px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            margin-bottom: 10px;
            color: #4a5568;
            font-size: 18px;
        }

        .input-group input {
            width: 100%;
            padding: 15px;
            font-size: 24px;
            text-align: center;
            border: 2px solid #a5b4fc;
            border-radius: 10px;
            outline: none;
            transition: all 0.3s;
        }

        .input-group input:focus {
            border-color: #6366f1;
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.2);
        }

        .button-group {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        button {
            padding: 15px;
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.3s;
            flex: 1;
            min-width: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .predict-btn {
            background: #6366f1;
        }

        .predict-btn:hover {
            background: #4f46e5;
        }

        .reset-btn {
            background: #ef4444;
        }

        .reset-btn:hover {
            background: #dc2626;
        }

        .read-btn {
            background: #10b981;
        }

        .read-btn:hover {
            background: #059669;
        }

        .popup-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            backdrop-filter: blur(3px);
        }

        .popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            z-index: 1001;
            width: 90%;
            max-width: 400px;
            text-align: center;
            animation: popupIn 0.3s ease-out;
        }

        @keyframes popupIn {
            from {
                transform: translate(-50%, -60%);
                opacity: 0;
            }
            to {
                transform: translate(-50%, -50%);
                opacity: 1;
            }
        }

        .popup-title {
            font-size: 24px;
            color: #4a1d96;
            margin-bottom: 15px;
        }

        .popup-message {
            font-size: 18px;
            color: #4b5563;
            margin-bottom: 20px;
            line-height: 1.5;
        }

        .popup-button {
            background: #6366f1;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            transition: background 0.3s;
        }

        .popup-button:hover {
            background: #4f46e5;
        }

        .calculation {
            margin-top: 20px;
            padding: 20px;
            background: #f3f4f6;
            border-radius: 10px;
            display: none;
        }

        .calculation h2 {
            color: #4a1d96;
            margin-bottom: 10px;
            font-size: 20px;
        }

        .calculation pre {
            font-family: monospace;
            color: #4a5568;
            white-space: pre-wrap;
        }

        .result {
            margin-top: 20px;
            padding: 20px;
            background: linear-gradient(135deg, #e9d5ff 0%, #ddd6fe 100%);
            border-radius: 10px;
            display: none;
        }

        .result h2 {
            color: #4a1d96;
            margin-bottom: 10px;
            font-size: 20px;
        }

        .result p {
            color: #4a5568;
            line-height: 1.6;
            font-size: 16px;
        }

        @media (max-width: 480px) {
            .container {
                padding: 20px;
            }

            .title {
                font-size: 24px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="title-main">üîÆ ‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏î‡∏ß‡∏á‡∏ä‡∏∞‡∏ï‡∏≤</h1>
        <h2 class="title-sub">‡∏à‡∏≤‡∏Å‡πÄ‡∏•‡∏Ç‡∏ó‡πâ‡∏≤‡∏¢‡∏ö‡∏±‡∏ï‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô</h2>
        
        <div class="input-group">
            <label>‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡πÄ‡∏•‡∏Ç‡∏ó‡πâ‡∏≤‡∏¢‡∏ö‡∏±‡∏ï‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô 3 ‡∏´‡∏•‡∏±‡∏Å</label>
            <input type="text" maxlength="3" id="numberInput" placeholder="000">
        </div>
        
        <div class="button-group">
            <button class="predict-btn" onclick="predict()">
                <i class="fas fa-magic"></i> ‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢
            </button>
            <button class="read-btn" onclick="readFortune()">
                <i class="fas fa-volume-up"></i> ‡∏≠‡πà‡∏≤‡∏ô‡∏Ñ‡∏≥‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢
            </button>
            <button class="reset-btn" onclick="resetForm()">
                <i class="fas fa-redo"></i> ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà
            </button>
        </div>
        
        <div id="calculation" class="calculation">
            <h2>‡∏ß‡∏¥‡∏ò‡∏µ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì:</h2>
            <pre id="calculationSteps"></pre>
        </div>
        
        <div id="result" class="result">
            <h2>‡∏Ñ‡∏≥‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢:</h2>
            <p id="fortuneText"></p>
        </div>
    </div>

    <!-- Popup Component -->
    <div id="popupOverlay" class="popup-overlay">
        <div class="popup">
            <div class="popup-title">
                <i class="fas fa-info-circle"></i>
                <span id="popupTitle"></span>
            </div>
            <div class="popup-message" id="popupMessage"></div>
            <button class="popup-button" onclick="closePopup()">‡∏ï‡∏Å‡∏•‡∏á</button>
        </div>
    </div>

    <script>
        const fortunes = {
            1: "‡∏î‡∏ß‡∏á‡∏î‡∏≤‡∏ß‡πÅ‡∏´‡πà‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à - ‡πÄ‡∏•‡∏Ç‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏ö‡πà‡∏á‡∏ö‡∏≠‡∏Å‡∏ñ‡∏∂‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡∏ô‡∏≥ ‡∏Å‡∏≤‡∏£‡∏£‡∏¥‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏™‡∏¥‡πà‡∏á‡πÉ‡∏´‡∏°‡πà‡πÜ ‡πÄ‡∏õ‡πá‡∏ô‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏î‡∏µ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡∏°‡πà",
            2: "‡∏à‡∏±‡∏ô‡∏ó‡∏£‡∏≤‡πÄ‡∏û‡πá‡∏ç - ‡πÄ‡∏•‡∏Ç‡∏™‡∏≠‡∏á‡∏™‡∏∑‡πà‡∏≠‡∏ñ‡∏∂‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏°‡∏î‡∏∏‡∏• ‡∏Å‡∏≤‡∏£‡∏£‡πà‡∏ß‡∏°‡∏°‡∏∑‡∏≠ ‡∏ä‡πà‡∏ß‡∏á‡∏ô‡∏µ‡πâ‡∏Ñ‡∏ß‡∏£‡πÉ‡∏´‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ö‡∏ú‡∏π‡πâ‡∏≠‡∏∑‡πà‡∏ô",
            3: "‡∏î‡∏≤‡∏ß‡∏û‡∏§‡∏´‡∏±‡∏™‡∏ô‡∏≥‡πÇ‡∏ä‡∏Ñ - ‡πÄ‡∏•‡∏Ç‡∏™‡∏≤‡∏°‡∏ô‡∏≥‡∏û‡∏≤‡πÇ‡∏ä‡∏Ñ‡∏•‡∏≤‡∏† ‡∏Å‡∏≤‡∏£‡∏Ç‡∏¢‡∏≤‡∏¢‡∏ï‡∏±‡∏ß ‡πÄ‡∏õ‡πá‡∏ô‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞‡∏ó‡∏µ‡πà‡∏î‡∏µ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏á‡∏ó‡∏∏‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡∏Ç‡∏¢‡∏≤‡∏¢‡∏Å‡∏¥‡∏à‡∏Å‡∏≤‡∏£",
            4: "‡∏î‡∏≤‡∏ß‡πÄ‡∏™‡∏≤‡∏£‡πå‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á - ‡πÄ‡∏•‡∏Ç‡∏™‡∏µ‡πà‡πÅ‡∏™‡∏î‡∏á‡∏ñ‡∏∂‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á ‡∏Å‡∏≤‡∏£‡∏ß‡∏≤‡∏á‡∏£‡∏≤‡∏Å‡∏ê‡∏≤‡∏ô ‡∏Ñ‡∏ß‡∏£‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡∏ô‡∏µ‡πâ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏£‡∏∞‡∏¢‡∏∞‡∏¢‡∏≤‡∏ß",
            5: "‡∏î‡∏≤‡∏ß‡∏û‡∏∏‡∏ò‡∏ú‡∏π‡πâ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á - ‡πÄ‡∏•‡∏Ç‡∏´‡πâ‡∏≤‡∏ö‡πà‡∏á‡∏ö‡∏≠‡∏Å‡∏ñ‡∏∂‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á ‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡πÉ‡∏´‡∏°‡πà‡πÜ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤",
            6: "‡∏î‡∏≤‡∏ß‡∏®‡∏∏‡∏Å‡∏£‡πå‡πÅ‡∏´‡πà‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å - ‡πÄ‡∏•‡∏Ç‡∏´‡∏Å‡∏™‡∏∑‡πà‡∏≠‡∏ñ‡∏∂‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å ‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏£‡∏±‡∏ß ‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå",
            7: "‡∏î‡∏≤‡∏ß‡πÄ‡∏ô‡∏õ‡∏à‡∏π‡∏ô‡πÅ‡∏´‡πà‡∏á‡∏õ‡∏±‡∏ç‡∏ç‡∏≤ - ‡πÄ‡∏•‡∏Ç‡πÄ‡∏à‡πá‡∏î‡∏ô‡∏≥‡∏û‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ ‡∏™‡∏ï‡∏¥‡∏õ‡∏±‡∏ç‡∏ç‡∏≤ ‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏û‡∏ö ‡∏Ñ‡∏ß‡∏£‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡∏ô‡∏µ‡πâ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏´‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ",
            8: "‡∏î‡∏≤‡∏ß‡∏¢‡∏π‡πÄ‡∏£‡∏ô‡∏±‡∏™‡πÅ‡∏´‡πà‡∏á‡πÇ‡∏ä‡∏Ñ‡∏•‡∏≤‡∏† - ‡πÄ‡∏•‡∏Ç‡πÅ‡∏õ‡∏î‡∏´‡∏°‡∏≤‡∏¢‡∏ñ‡∏∂‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏°‡∏±‡πà‡∏á‡∏Ñ‡∏±‡πà‡∏á ‡∏≠‡∏≥‡∏ô‡∏≤‡∏à ‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô‡πÅ‡∏•‡∏∞‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à",
            9: "‡∏î‡∏≤‡∏ß‡∏≠‡∏±‡∏á‡∏Ñ‡∏≤‡∏£‡∏ú‡∏π‡πâ‡∏Å‡∏•‡πâ‡∏≤ - ‡πÄ‡∏•‡∏Ç‡πÄ‡∏Å‡πâ‡∏≤‡∏™‡∏∑‡πà‡∏≠‡∏ñ‡∏∂‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏£‡∏•‡∏∏‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢ ‡πÄ‡∏õ‡πá‡∏ô‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞‡∏ó‡∏µ‡πà‡∏î‡∏µ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏£‡∏∏‡∏õ‡∏á‡∏≤‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£"
        };

        function calculateSum(numbers) {
            let sum = numbers.split('').map(Number).reduce((a, b) => a + b, 0);
            let steps = `${numbers.split('').join(' + ')} = ${sum}`;
            
            while (sum > 9) {
                const digits = String(sum).split('').map(Number);
                steps += `\n${digits.join(' + ')}`;
                sum = digits.reduce((a, b) => a + b, 0);
                steps += ` = ${sum}`;
            }
            
            return { sum, steps };
        }

        function predict() {
            const numbers = document.getElementById('numberInput').value;
            const calculationDiv = document.getElementById('calculation');
            const resultDiv = document.getElementById('result');
            
            if (numbers.length !== 3 || !/^\d{3}$/.test(numbers)) {
                alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡πÄ‡∏•‡∏Ç 3 ‡∏´‡∏•‡∏±‡∏Å‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô');
                return;
            }

            const { sum, steps } = calculateSum(numbers);
            
            document.getElementById('calculationSteps').textContent = steps;
            document.getElementById('fortuneText').textContent = fortunes[sum];
            
            calculationDiv.style.display = 'block';
            resultDiv.style.display = 'block';
        }

        // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° Enter
        document.getElementById('numberInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                predict();
            }
        });

        function resetForm() {
            document.getElementById('numberInput').value = '';
            document.getElementById('calculation').style.display = 'none';
            document.getElementById('result').style.display = 'none';
            document.getElementById('calculationSteps').textContent = '';
            document.getElementById('fortuneText').textContent = '';
            stopReading();
        }

        function readFortune() {
            const fortuneText = document.getElementById('fortuneText').textContent;
            if (!fortuneText) {
                alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏Å‡πà‡∏≠‡∏ô‡∏Å‡∏î‡∏ü‡∏±‡∏á‡∏Ñ‡∏≥‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢');
                return;
            }

            // ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß ‡πÉ‡∏´‡πâ‡∏´‡∏¢‡∏∏‡∏î‡∏Å‡πà‡∏≠‡∏ô
            stopReading();

            // ‡∏™‡∏£‡πâ‡∏≤‡∏á utterance ‡πÉ‡∏´‡∏°‡πà
            const utterance = new SpeechSynthesisUtterance(fortuneText);
            utterance.lang = 'th-TH';
            utterance.rate = 1;
            utterance.pitch = 1;
            window.speechSynthesis.speak(utterance);
        }

        function stopReading() {
            if (window.speechSynthesis.speaking) {
                window.speechSynthesis.cancel();
            }
        }

        // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏´‡∏¢‡∏∏‡∏î‡∏≠‡πà‡∏≤‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏´‡∏ô‡πâ‡∏≤
        window.addEventListener('beforeunload', stopReading);
    </script>
</body>
</html>
